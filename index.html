<!DOCTYPE html>
<html>
    <head>
        <!-- Web App meta data -->
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Exscientia Compounds</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- Icon used by webpages, sourced from Exscientia.ai web page -->
        <link rel="icon" type="image/png" sizes="32x32" href="Public/Images/favicon-32x32.png">
        <!-- Stylesheets used by the web app. Locally stored and CDNs -->
        <link href="https://fonts.googleapis.com/css?family=Raleway&display=swap" rel="stylesheet" type='text/css'>       
        <link rel="stylesheet" href="Public/Stylesheets/style.css">
        <link rel="stylesheet" type="text/css" href="Public/Stylesheets/datatables.css"/>
        <!-- Scripts used by web app. Locally stored and CDNs. jQuery, ChartJS, datatables -->
        <script type="text/javascript" src="Scripts/jquery-3.4.1.min.js"></script>
        <script type="text/javascript" src="Scripts/Chart.bundle.js"></script>
        <script type="text/javascript" src="Scripts/datatables.js"></script>
        <script src="https://kit.fontawesome.com/4437fc54eb.js" crossorigin="anonymous"></script>
    </head>
    <body>
        <!-- This div creates a Nav Bar containing buttons directing the user to exscientia.ai, README.md, and the source repository. It also contains a fullscreen toggle -->
        <div class="topnav">
            <a class="topNavLeft" href="https://exscientia.ai">Exscientia</a>
            <a id="spanFS" class="topNavRight" href="#" onclick="toggleFullScreen()">Fullscreen</a>
            <a class="topNavRight" href="https://github.com/FRStewart/FRStewart.github.io/blob/master/README.md">App Info.</a>
            <a class="topNavRight" href="https://github.com/FRStewart/FRStewart.github.io">Source</a>
        </div>
        <!-- This defines a pre-configured loading animation on page load. Once the content is ready it disappears. -->
        <div id="loading">
            <img id="loading-image" src="Public/Animations/Spinner-1s-291px.gif" style="height: 30%;" alt="Loading..." />
        </div>
        <!-- This is the main page content -->
        <div id="pageDiv" class="pageBackground">
            <!-- Inline style is set here to ensure container is full page height before content loads -->
            <div class="container" style="min-height: 100vh;">
                <!-- Exscientia logo and header is displayed here. It is a clickable link that takes users to the Exscientia website -->
                <div id="headDiv" class="unclicked">
                    <a href="https://www.exscientia.ai/" style="text-decoration: none;">
                        <h1 id="exscientiaHeader">
                            <span id="exscientiaLogo"><img src="Public/Images/exLogo.jpg"></span>
                            <span id="exscientiaTitle">Exscientia</span>
                        </h1>
                    </a>
                </div>
                <!-- This gives a brief description of the web app purpose. Further info. can be found in the README.md file. -->
                <div id="pageDescription" class="unclicked">
                    <p align="center">This web app represents a small data set of compounds and assay results extracted from ChEMBL.</p> 
                    <p align="center">The chart and table are interactive and selecting a compound will display more information and results.</p>
                </div>        
                <!-- Lets chartJS know where the chart should be placed. -->
                <div class="chartWrapper">
                    <canvas id="canvas"></canvas>
                </div>
                <!-- (1/2) When a compound is clicked on the chart this div is removed and replaced with compound info. below -->
                <div id="initiallyVisible" class="invisible">
                    <table><tr><td>Select a compound from the chart to view more information</td></tr></table>
                </div>
                <!-- (2/2) When a compound is clicked on the chart further information is displayed as detailed below -->
                <div id="viewOnClick" class="unclicked">
                    <table class="selectedCompoundTable">
                        <tr>
                            <td rowspan=6><img id="compImage" src="" alt="Image of selected compound" style="max-height:200px;"></td>
                            <td class="tableLabel">Molecular Formula:</td>
                            <td id="moleName"></td>
                        </tr>
                        <tr>
                            <td class="tableLabel">Compound ID:</td>
                            <td id="compID"></td>
                        </tr>
                        <tr>
                            <td class="tableLabel">Molecular Weight:</td>
                            <td id="moleWeight"></td>
                        </tr>
                        <tr>
                            <td class="tableLabel">ALogP:</td>
                            <td id="alogp"></td>
                        </tr>
                        <tr>
                            <td class="tableLabel">Number of Rings:</td>
                            <td id="numRing"></td>
                        </tr>
                        <tr>
                            <td colspan=2 class="tableLabel"><button id="moreInfBut" onclick=onTable()>More Information</button></td>
                        </tr>
                    </table>
                </div>
                <!-- This initiates the master detail table before DataTables applies further formatting. -->
                <table id="compoundTb" class="display invisible" style="width:90%">
                    <thead>
                        <tr>
                            <th>Compound ID</th>
                            <th>Molecular Formula</th>
                            <th>Number of Rings</th>
                            <th>ALogP</th>
                            <th>Molecular Weight</th>
                            <th>Number of Assay Results</th>
                            <th>More Details</th>
                        </tr>
                    </thead>
                    <tfoot>
                        <tr>
                            <th>Compound ID</th>
                            <th>Molecular Formula</th>
                            <th>Number of Rings</th>
                            <th>ALogP</th>
                            <th>Molecular Weight</th>
                            <th>Number of Assay Results</th>
                            <th>More Details</th>
                        </tr>
                    </tfoot>
                </table>
            </div>
        </div>
        <!-- middleware.js contains general functions such as molecularFormulaFormat and toggleFullscreen -->
        <script type="text/javascript" src="Scripts/middleware.js"></script>
        <!-- chartFunctions.js contains functions used to populate the compound chart -->
        <script type="text/javascript" src="Scripts/chartFunctions.js"></script>
        <!-- tableFunctions.js contains functions used to populate the master detail table -->
        <script type="text/javascript" src="Scripts/tableFunctions.js"></script>
        <!-- dataRetrieval collects compound data and populates the web app -->
        <script type="text/javascript" src="Scripts/dataRetrieval.js"></script>
    </body>
</html>


